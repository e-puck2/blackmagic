Specific to the e-puck2 mobile robot:

This platform use 2 STM32F4xx uCs
1. An STM32F413 to implement the low-level microcontroller,
   including BlackMagic Probe modified software with dedicated other features
   like the power management and USB HUB configuration.
2. An STM32F407 as main uC for the mobile robotic platform. This one is program-
   med from the first one.

System vs BMP Bootloader
========================
We use the STM32F413 internal DFU bootloader and there is no code to provide and
no control except the Boot0 pin (see below).
=======
System vs BMP Bootloader
========================
For the BMP bootloader, flashing was not reliable. So we use the system
bootloader unconditional.

Connections:
====================

> Boot0: Pin Boot0 to force system bootloader entry AFTER reset.
The e-puck2 must be OFF and the Boot0 jumper short-circuited then the USB must
be connected to a PC with DFU util tools in order to reprogram the BlackMagic
Probe firmware.

Not implemented yet but could be done later:
1. An eventual Black Magic Trace Capture: That's need 1 link between the 2 uCs
(SWO on the 407)

> PA0: TDI - if needed but try to avoid to use it, that's the case yet
> PA10: TMS/SWDIO
> PA5: TCK/SWCLK
> PA1: TDO/TRACESWO - if needed but try to avoid to use it, that's the case yet

> PB4: TRST - if needed but try to avoid to use it, that's the case yet
> PB0: SRST - RESET of STM32F407

> PA14/Blue Led: Indicator of serial activity
> PA13/Red Led:  Error indicator
> PA15/Green Led: Idle/Run indicator

USB connection detection.
> PA9: VBUS (USB_PRESENT or PRT_PROG)

Charger management. For the moment only GDB dedicated functions will allow
to check the input/output states and manage the output states.
Later an autonomous state machine will do the job autonomously.
> PB5: USB_CHARGE output
> PB6: USB_500 output

GDB dedicated functions :
=================================
Use "mon help" to list the dedicated function for the platform
New and specific functions are added via platform_commands.h file.


ToDo : 
====================

1) Extension connector management. Not implemented yet.
    PB12: Extension system enable (EXT_SYSEN) output to control the supplies
          of futur extention boards.


New in version 2 of the code :
====================================

1) Code completely rewritten using ChibiOS
2) Now we can control the brigthness of the three leds
3) The status of GDB is showed using the leds (programming, running, idle)
4) The Aseba Can translor works better now
5) In general, everything works smoother and better, also the code has a better organization and is easier to modify
6) No more dependencies with LibOpencm3, therefore we can compile the whole project without the need to compile first
   libopencm3 (no more Python support needed)
7) The robot is automatically turned on if we try to program it when it is off.

